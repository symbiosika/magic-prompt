{
  "errors": [],
  "blocks": [
    {
      "type": "block",
      "arguments": {},
      "messages": [
        {
          "role": "assistant",
          "content": "You will check give the user a count of valid answers (\"Correct\") and invalid answers (\"Not correct\").",
          "variables": {},
          "placeholders": [],
          "setters": []
        },
        {
          "role": "user",
          "content": "Please give me my result. I had these results:\r\n        {{llm_checks}}",
          "variables": {
            "llm_checks": true
          },
          "placeholders": [],
          "setters": []
        }
      ],
      "order": 0
    },
    {
      "type": "loop",
      "arguments": {
        "max": 100,
        "max_tokens": 1,
        "forget": true,
        "output": "llm_checks",
        "next": "manual_trigger"
      },
      "messages": [
        {
          "role": "user",
          "content": "{{#clear_chat_history}}\r\n    {{#call function=generate_question}}\r\n    {{#callback role=assistant content=actual_question return=users_input}}",
          "variables": {},
          "placeholders": [],
          "setters": []
        },
        {
          "role": "system",
          "content": "You will check if the user can answer random questions.\r\n        Your answer will be a check for the answer. You will answer with \"Correct\" or \"Not correct\" only.",
          "variables": {},
          "placeholders": [],
          "setters": []
        },
        {
          "role": "assistant",
          "content": "{{actual_question}}",
          "variables": {
            "actual_question": true
          },
          "placeholders": [],
          "setters": []
        },
        {
          "role": "user",
          "content": "{{users_input}}",
          "variables": {
            "users_input": true
          },
          "placeholders": [],
          "setters": []
        }
      ],
      "order": 2
    }
  ],
  "functions": [
    {
      "type": "function",
      "arguments": {
        "name": "generate_question",
        "memory": "asked_questions",
        "output": "actual_question"
      },
      "messages": [
        {
          "role": "system",
          "content": "You will create random questions.",
          "variables": {},
          "placeholders": [],
          "setters": []
        },
        {
          "role": "user",
          "content": "Create a question.\r\n        You have already asked these questions:\r\n        {{asked_questions}}\r\n        DonÂ´t repeat yourself.",
          "variables": {
            "asked_questions": true
          },
          "placeholders": [],
          "setters": []
        }
      ],
      "order": 3
    }
  ],
  "init": [
    {
      "type": "init",
      "arguments": {},
      "messages": [
        {
          "role": "user",
          "content": "{{#set actual_position=0}}\r\n  {{#call function=generate_question}}",
          "variables": {},
          "placeholders": [],
          "setters": [
            {
              "fullMatch": "{{#set actual_position=0}}",
              "name": "actual_position",
              "value": 0
            }
          ]
        }
      ],
      "order": 1
    }
  ]
}